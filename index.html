<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Vue vs Vanilla - Components for the Web</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement('link');
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.head.append(link);
		</script>

		<base target="_blank">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

				<section>
					<h1>
						Vue vs Vanilla<br>
						<small>Components for the Web</small>
					</h1>
					<p>
						<small>
							Johannes Kissel & <a href="http://github.com/haimich/" target="_blank">Michael M√ºller</a><br>
						</small>
					</p>

					<a href="https://2019.accento.dev/">
						<img src="img/accento-logo.png" alt="Accento Logo" style="width: 21%; padding: 10px;">
					</a>
				</section>

				<!-- About us -->

				<section>
					<section
						data-background="img/jo-bicycle.jpg"
						data-background-size="cover"
						class="section-twocolumn"
					>
						<div>
							<img src="img/jo.jpg" alt="Johannes Kissel" />
						</div>

						<div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
							<h2>Johannes Kissel</h2>
							<p>
								Software Developer<br>at
								<img src="img/disy-logo.svg" alt="Disy Logo" class="inline" style="padding: 8px;"><br>
								in Karlsruhe
							</p>
							<p>Enthusiastic about &hellip;</p>
							<ul class="nobullets-list">
								<li>üîó The Open Web</li>
								<li>üö≤ Cycling</li>
								<li>üé∂ Singing</li>
							</ul>
						</div>
					</section>

					<section
						data-background="img/vue/varka-bar-2.jpg"
						data-background-size="cover"
						class="section-twocolumn"
						style="color:#c9cece;"
					>
						<div>
							<img src="img/vue/cookbooks.jpg" alt="Michael M√ºller" />
						</div>

						<div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
							<h2>Michael M√ºller</h2>

							<p>
								Full Stack Developer<br>at
								<img src="img/vue/echobot-logo.png" alt="Echobot Logo" class="inline" style="padding: 11px; height: 29px;"><br>
								in Karlsruhe
							</p>
							<p>Enthusiastic about &hellip;</p>
							<ul class="nobullets-list">
								<li>üíª Web Development</li>
								<li>üç≥ Cooking</li>
								<li>üé∂ Singing</li>
							</ul>
						</div>

						<aside class="notes">
							<ul>
								<li>arbeite bei der Firma Echobot - ein Startup, das eigentlich keins mehr ist</li>
								<li>ich war fr√ºher reiner Backendentwickler, aber durch Johannes habe ich vor 5 Jahren die Webentwicklung f√ºr mich entdeckt</li>
								<li>wir waren damals beide bei 1&1, Johannes im Frontend und ich im Backendteam</li>
								<li>ich habe dann ab und zu mal r√ºbergeschielt, was die da so machen</li>>
								<li>ich habe mich dann zwei Jahre jeden Tag weitergebildet (und mache kein Java mehr)</li>
								<li>zum Kochen: wir schaffen es auch immer mal wieder, das Kochen mit dem Coden zu verbinden</li>
								<li>zum Singen: auch ein gemeinsames Hobby, wir singen beide beim Karlsruhe Chor Jazzika</li>
								<li>zum Bild: das passiert, wenn der Vorbereitungszeitraum f√ºr die Konferenz in die Urlaubszeit f√§llt ;)</li>
							</ul>
						</aside>
					</section>
				</section>

				<!-- INTRO -->
				<section class="section-twocolumn">
					<h3>Wie sind wir zu diesem Vortrag gekommen?</h3>

					<aside class="notes">
						<ul>
							<li>jetzt wisst ihr grob, wer wir sind, bleibt die Frage wie es eigentlich zu diesem Vortrag kam</li>
							<li>hatten beide im letzten Jahr die Herausforderung, eine Technologieentscheidung f√ºr ein gro√ües Projekt treffen zu m√ºssen</li>
							<li>wir haben dabei ziemlich unterschiedliche Wege verfolgt</li>
							<li>wir wollen euch heute vorstellen, was das f√ºr Projekte waren, welche Technologien wir gew√§hlt haben und was am Ende draus geworden ist :)</li>
							<li>Zuh√∂rer sollen die Konzepte hinter Vue.js und WebComponents kennenlernen</li>
							<li>unser Ziel ist es euch zu helfen, es einzuordnen (vor allem f√ºr Technikentscheidungen)</li>
							<li>Vortrag ist in zwei Teile aufgeteilt</li>
							<li>Vorteile/Nachteile der jeweiligen L√∂sung aufzeigen</li>
							<li>Au√üerdem werden Erfahrungen aus dem direkten Projekteinsatz geteilt.</li>
							<li>Es gibt viele Technologien im Webkosmos, aber die meisten Entwickler haben nicht die Zeit, sich mit allen eingehend zu besch√§ftigen.</li>
							<li>Trotzdem finden wir, dass es insbesondere f√ºr erfahrene Entwickler wichtig ist, die verf√ºgbaren Technologien zu kennen und einordnen zu k√∂nnen. Dies erlaubt es, im beruflichen Umfeld informierte Technologie-Entscheidungen zu treffen.							</li>
						</ul>
					</aside>
				</section>

				<section>
					<h2>Quick and Dirty &hellip;</h2>
					<img src="img/quick-and-dirty.svg" alt="Quick and Dirty - it depends" style="background-color: white;">
					<p class="fragment">&hellip; it depends.</p>

					<aside class="notes">
						<ul>
							<li>wenn man so ein Projekt anf√§ngt, stellt sich nat√ºrlich erst mal die Frage: wie geht man an das Ganze ran</li>
							<li>das muss jedes Team f√ºr sich selbst entscheiden, aber gehen wir es doch mal durch:</li>
							<li>1. You lay a foundation: Du nimmst Dir Zeit, eine gute Basis zu schaffen (f√ºr ein Produkt oder Feature).</li>
							<li>2. You are lucky: The optimal case, nobody will complain. Your team is really potent and can deliver top quality in zero time.</li>
							<li>3. You bet on the future: You trade quality for time, maybe to get some contract? You'll need to pay in the future.</li>
							<li>4. You are lazy: WTF, why should you do that? Because you can? Come on &hellip;</li>
							<li>The truth is&hellip; it depends!</li>
							<li>in welchem Quadranten wir uns mit unseren Projekten bewegt haben, erfahrt ihr jetzt!</li>
						</ul>
					</aside>
				</section>

				<!-- Motivation Web Components -->

				<section>
					<section>
						<h2>Cadenza is big &hellip;</h2>
						<img src="img/cadenza.png" alt="Cadenza sreenshot showing a map" class="noborder">
						<p class="fragment">&hellip; and it's legacy, but &hellip;</p>

						<aside class="notes">
							<ul>
								<li>Product suite with desktop, Web, and mobile apps.</li>
								<li>Gather and analyze geo data, do reporting</li>
								<li>Together a lot more than 1.500.000 lines of code (Java and JS)</li>
							</ul>
						</aside>
					</section>

					<section>
						<p>&hellip; not <em>that</em> kind of legacy &hellip;</p>
						<figure>
							<img src="img/legacy-dung-heap.jpg" alt="Dung Heap">
							<figcaption>
								<small>Dung heap, ¬© Superbass / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a> (via Wikimedia Commons)</small>
							</figcaption>
						</figure>

						<aside class="notes">
							<ul>
								<li>It doesn't steam up while it rots.</li>
							</ul>
						</aside>
					</section>

					<section>
						<p>&hellip; or that kind:</p>
						<figure>
							<img src="img/legacy-jenga.jpg" alt="Jenga Tower">
							<figcaption>
								<small>Jenga tower, ¬© Marco Verch / <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY-2.0</a> (via Flickr)</small>
							</figcaption>
						</figure>

						<aside class="notes">
							<ul>
								<li>We're <em>not</em> afraid it will fall.</li>
							</ul>
						</aside>
					</section>

					<section data-background="img/legacy-main-station.jpg">
						<p class="text-with-bg" style="margin-bottom: 45vh; font-size: 1.5em">It's vivid and<br>constantly improved and extended</p>
						<br><br><br><br><br><br><br><br><br>
						<p class="text-with-bg" style="font-size: 0.6em">
							Frankfurt main station, ¬© Urmelbeauftragter / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a> (via Wikimedia Commons)
						</p>

						<aside class="notes">
							<ul>
								<li>Web is ~10 years old and getting more important, recently.</li>
								<li>A lot of people use it (tens of thousands).</li>
								<li>We add new features all the time.</li>
								<li>We constantly improve the code base (e.g. always using the newest LTS Java version).</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2 class="fragment">How to be future proof?</h2>
						<ul class="nobullets-list" style="text-align: center">
							<li>
								<a href="https://richfaces.jboss.org/">
									<img src="img/richfaces-logo.png" alt="RichFaces Logo" class="noborder" style="height: 2em">
								</a>
							</li>
							<li class="fragment">
								<a href="https://angularjs.org/">
									<img src="img/angularjs-logo.png" alt="AngularJS (aka &quot;Angular 1&quot;) Logo" class="noborder" style="height: 2em">
								</a>
							</li>
							<li class="fragment">
								<a href="https://backbonejs.org/">
									<img src="img/backbone-logo.png" alt="Backbone Logo" class="noborder" style="height: 2em; background-color: white">
								</a>
							</li>
							<li class="fragment">
								<a href="https://openlayers.org/two/">
									<img src="img/openlayers2-logo.png" alt="OpenLayers 2 Logo" class="noborder" style="height: 2em">
								</a>
							</li>
							<li class="fragment">
								<a href="http://www.qooxdoo.org/">
									<img src="img/qooxdoo-logo.png" alt="OpenLayers 2 Logo" class="noborder" style="height: 2em">
								</a>
								<br>
								&hellip;
							</li>

							<img src="img/forbidden.svg" alt="" class="fragment noborder" style="height: 50vh; left: 50%; position: absolute; top: 50%; transform: translate(-50%, -50%);">
						</ul>

						<aside class="notes">
							<ul>
								<li>
									The RichFaces end-of-life in 2016 together with an exploding number of feature requests
									made us think about Cadenza Web's technical foundation.
								</li>
								<li>The problem: Frameworks tend to die or break their APIs.</li>
								<li>We don't use frameworks for Web components either (like Google's <a href="https://www.polymer-project.org/">Polymer Project</a>).</li>
							</ul>
						</aside>
					</section>

					<!-- https://commons.wikimedia.org/wiki/File:RU800S_atepitovonat_1.jpg -->
					<section data-background="img/refactor-on-the-go.jpg" data-background-size="contain" data-no-center style="text-align: left; padding-top: 15%">
						<p class="text-with-bg">Refactoring on the go demands<br>maximum interoperability</p>

						<aside class="notes">
							<ul>
								<li>Re-writing the app is not an option.</li>
								<li>We need maximum interoperability with existing code and future libs.</li>
							</ul>
						</aside>
					</section>

					<section>
						<pre><code data-trim class="javascript">
							const ELEMENT_NAME = 'd-toggle-button';

							class ToggleButton extends HTMLElement {
							  connectedCallback () {
							    this.classList.add(ELEMENT_NAME);
							    this.setAttribute('role', 'button');
							    this.addEventListener('click', () => {
							      this.pressed = !this.pressed;
							      this.dispatchEvent(new CustomEvent('toggle'));
							    });
							  }
							  set pressed (value) {
							    this.setAttribute('aria-pressed', value);
							  }
							  get pressed () {
							    return this.getAttribute('aria-pressed') === 'true';
							  }
							}

							customElements.define(ELEMENT_NAME, ToggleButton);
						</code></pre>
						<p>
							<a href="https://jsfiddle.net/njrymhz2/">jsfiddle.net/njrymhz2/</a>
						</p>

						<aside class="notes">
							<ul>
								<li>A simple toggle button component as example: The following slides show it's usage with various technologies.</li>
								<li>The example already shows some of our best practices, which will be discussed later.</li>
								<li>Web components are low-level, so you should know the DOM.</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Plain DOM</h2>
						<pre><code data-trim class="javascript">
							const button = document.createElement('d-toggle-button');
							button.textContent = 'Button';
							button.pressed = true;
							button.addEventListener('toggle', () => {
							  console.log(button.pressed);
							});
							document.body.append(button);
						</code></pre>
					</section>

					<section>
						<h2>Constructor</h2>
						<pre><code data-trim class="javascript">
							import ToggleButton from 'ui/toggle-button';
							// or
							const ToggleButton = customElements.get('d-toggle-button');

							// Constructor
							const button = new ToggleButton();
							&hellip;
						</code></pre>

						<aside class="notes">
							<ul>
								<li>Using the constructor in this case is equivalent to <code>document.createElement()</code>.</li>
								<li>But it also accepts arguments.</li>
								<li>Ideally, your components should work <em>with</em> and <em>without</em> constructor arguments.</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>jQuery</h2>
						<pre><code data-trim class="javascript">
							$('&lt;d-toggle-button>')
							  .text('Button')
							  .prop('pressed', true)
							  .on('toggle', event => console.log(event.target.pressed))
							  .appendTo(document.body);
						</code></pre>
					</section>

					<section>
						<h2>Vue</h2>
						<pre><code data-trim class="javascript">
							new Vue({
							  el: '#app',
							  template: `&lt;d-toggle-button
							               :pressed.prop="pressed"
							               @toggle="onToggle">Button&lt;/d-toggle-button>`,
							  data: { pressed: true },
							  methods: {
							    onToggle (event) {
							      console.log(event.target.pressed);
							    }
							  }
							});
						</code></pre>
						<p class="fragment">
							Vue and Web Components can be BFFs üçª:<br>
							<a href="https://custom-elements-everywhere.com/#vue">100% interoperability</a>
						</p>
					</section>

					<!-- https://commons.wikimedia.org/wiki/File:Holy-grail-round-table-bnf-ms_fr-116F-f610v-15th-detail.jpg -->
					<section data-background="img/holy-grail.jpg" data-background-size="contain" data-no-center>
						<h2><span class="text-with-bg">Web Components</span></h2>
						<br><br><br><br><br>
						<h3 class="fragment">
							<span class="text-with-bg">The Holy Grail</span>
						</h3>
						<div class="fragment" id="solid-foundation">
							<h3>
								<span class="text-with-bg">A solid foundation<br><small>with the right level of abstraction</small></span>
							</h3>
							<p>
								<small class="text-with-bg">Railroad ties, ¬© St√∂rfix / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a> (via Wikimedia Commons)</small>
							</p>
						</div>

						<aside class="notes">
							<ul>
								<li>We bet - yes, it's a bet - that Web Components are more future proof than frameworks.</li>
								<li>At least they move more slowly üòâ</li>
								<li>Because they're relatively low-level, they integrate well with other technologies.</li>
							</ul>
						</aside>
					</section>
				</section>

				<!-- Intro: Components in General -->

				<section>
					<section>
						<blockquote>
							<p>A software component is a<br><strong>unit of composition</strong> with contractually specified <strong>interfaces</strong> and explicit context <strong>dependencies</strong> only.</p>
							<footer>
								<small>Szyperski, Gruntz, Murer; <cite><a href="https://books.google.de/books?id=U896iwmtiagC">Component Software</a></cite></small>
							</footer>
						</blockquote>

						<aside class="notes">
							<p>Components are building blocks - for your app and for other components of your app.</p>
						</aside>
					</section>

					<section>
						<h2>The effect is <strong style="font-size: 1.5em; font-weight: normal; vertical-align: middle">HUGE!</strong></h2>
						<img src="img/grunt-webpack-transition.svg" class="noborder" alt="Arrow pointing from the Grunt logo to the Webpack logo, indicating the transition from one tool to the other.">

						<aside class="notes">
							<ul>
								<li>We came from a world with strictly separated technologies: HTML, CSS, JS</li>
								<li>Now we think and build self-contained components and Webpack (or your preferred bundler) resolves their dependencies for you.</li>
								<li>This affects the structure of our code base, our tooling, and our habits and practices.</li>
								<li>Reusing components makes testing and documenting them more rewarding.</li>
							</ul>
						</aside>
					</section>

					<!-- https://www.pexels.com/photo/button-buttons-color-colour-670673/ -->
					<section data-background="img/buttons.jpg">
						<h2>
							<span class="text-with-bg">Button</span>
						</h2>
						<p class="fragment">
							<span class="text-with-bg">UI components have a name and can be reused.</span>

							<aside class="notes">
								<ul>
									<li>In frontend development, we usually talk about UI components.</li>
									<li>Component reuse supports a consistent UI, hence a better UX.</li>
									<li>People love them, because they make it easier to discuss certain parts of the UI.</li>
								</ul>
							</aside>
						</p>
					</section>

					<section class="section-twocolumn">
						<figure>
							<img src="img/screenshot-zeplin.png" alt="Screenshot of the Disy style guide">
							<figcaption>
								Style guide<br>
								<a href="https://zeplin.io/"><small>(Zeplin)</small></a>
							</figcaption>
						</figure>
						<figure>
							<img src="img/screenshot-catalog.png" alt="Screenshot of the Disy component library">
							<figcaption>
								Component library<br>
								<a href="https://www.catalog.style/"><small>(Catalog)</small></a>
							</figcaption>
						</figure>

						<aside class="notes">
							<ul>
								<li>Design tools co-evolve with the component trend in frontend development.</li>
								<li>In recent years we talk more about style guides and component libraries.</li>
								<li>
									Designers use design tools like Adobe XD instead of "canvas editors" like Photoshop -
									and they work with components instead of pixels.
								</li>
							</ul>
						</aside>
					</section>
				</section>

				<!-- Web Components -->

				<section>
					<section>
						<h2>Web Components</h2>
						<ul>
							<li>Custom Elements</li>
							<li>Shadow DOM</li>
							<li>HTML Templates</li>
							<li>&hellip;</li>
						</ul>

						<aside class="notes">
							<ul>
								<li>A set of complementary, but independet standards.</li>
								<li>There's still movement (e.g. HTML modules).
								<li>
									Note: If you avoid frameworks because of long-term considerations,
									you should avoid bleeding edge Web APIs, too üòú
								</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Custom elements</h2>
						<pre><code data-trim class="javascript">
							class MyComponent extends HTMLElement {
							  &hellip;
							}

							customElements.define('d-my-component', MyComponent);
						</code></pre>
						<p class="fragment">
							(<a href="https://developers.google.com/web/fundamentals/web-components/customelements">Google primer</a> on custom elements)
						</p>

						<aside class="notes">
							<ul>
								<li>
									Custom elements are implemented as <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Classes">ES2015 classes</a>
									and then defined in the <a href="https://developer.mozilla.org/docs/Web/API/CustomElementRegistry"><code>CustomElementRegistry</code></a> with their element name.
								</li>
								<li>The dash (<code>-</code>) in the element name is mandatory and avoids collisions with (future) built-in elements.</li>
								<li>Additionally at Disy, we prefix our component names with <code>d-</code> to avoid collisions with third-party components.</li>
								<li>Right now you can extend only <code>HTMLElement</code> without polyfilling.</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Extending Built-ins</h2>
						<pre><code data-trim class="javascript">
							class MyButton extends HTMLButtonElement {
							  &hellip;
							}

							customElements.define('d-my-button', MyComponent, {extends: 'button'});

							// Usage:
							document.createElement('button', {is: 'd-my-button'});
							// or
							// new MyButton();
							// &lt;button is="d-my-button">My Button&lt;/button>
						</code></pre>

						<aside class="notes">
							<ul>
								<li>
									Benefit: Your component inherits the semantics and behavior of the built-in component,
									so that it's functional and accessible out-of-the-box.
								</li>
								<li>For example, you can trigger your button using the keyboard <em>without extra code</em>.</li>
								<li>The required third parameter tells the browser which tag you're extending.</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Polyfilling Custom Elements</h2>
						<pre><code data-trim class="javascript">
							&lt;script>
							  if (window.customElements) {
							    // make the browser work with transpiled custom elements
							    document.write('&lt;script src="native-shim.js">&lt;/script>');
							  } else {
							    // polyfill custom elements
							    document.write('&lt;script src="custom-elements.min.js">&lt;/script>');
							  }
							&lt;/script>
						</code></pre>
						<p>
							<a href="https://caniuse.com/#feat=custom-elementsv1">caniuse.com/#feat=custom-elementsv1</a><br>
							<a href="https://github.com/webcomponents/custom-elements">Custom Elements Polyfill</a>
						</p>

						<p class="fragment">
							<del>Extending Built-ins</del>
						</p>

						<aside class="notes">
							<ul>
								<li>Because we need to support IE (our customers are rather conservative in this respect), we need to polyfill custom elements.</li>
								<li>Using transpiled classes requires an extra shim.</li>
								<li>That's not a problem: Polyfilling custom elements works well and we transpile our code anyways.</li>
								<li>
									Because Apple opposes extending built-in elements, the implementers of the
									major polyfill (which we use) hesitate to implement that feature.
								</li>
								<li>Note: Without IE support (without the polyfills) you can use components without any dependencies, right out-of-the-box.</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Lifecycle Callbacks</h2>
						<pre><code data-trim class="javascript">
							class MyComponent extends HTMLElement {
							  constructor () {
							    // Called when the element is created or upgraded.
							    super(); // Don't forget to call super().
							    &hellip;
							  }
							  connectedCallback () {
							    // Called when the element is connected to the DOM.

							    // If used in HTML, children might not be loaded, yet.
							    setTimeout (() => {
							      // Children are loaded.
							    });
							  }
							  disconnectedCallback () {
							    // Complement of connectedCallback()
							  }
							}
						</code></pre>
						<p>
							<a href="https://developer.mozilla.org/docs/Web/Web_Components/Using_custom_elements#Using_the_lifecycle_callbacks">Using the lifecycle callbacks</a> on MDN
						</p>

						<aside class="notes">
							<ul>
								<li>
									When <code>document.createElement()</code> is used to create the element,
									it is not allowed to have attributes or children after the constructor was called.
								</li>
								<li>
									<code>connectedCallback()</code> and <code>disconnectedCallback()</code> should be symmetric.
									Keep in mind that they could be called multiple times.
								</li>
								<li>
									For example, <code>classList.add()</code> and <code>setAttribute()</code> are idempotent,
									while <code>append()</code> and <code>addEventListener()</code> are not.
								</li>
								<li>
									When using your component in HTML, the <code>children</code> might not yet be loaded
									in the <code>connectedCallback()</code>. Use <code>setTimeout()</code> in this case.
								</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Attributes</h2>
						<pre><code data-trim class="javascript">
							class MyComponent extends HTMLElement {
							  static get observedAttributes() {
							    return ['some-attribute']; // Return attributes names.
							  }
							  attributeChangedCallback (name, oldValue, newValue) {
							    // Called when the observed attributes' values change.
							  }
							}
						</code></pre>

						<aside class="notes">
							<ul>
								<li>Attributes are there to configure an element declaratively.</li>
								<li>
									At Disy, we don't use the <code>attributeChangedCallback()</code>, because a programmatic
									attribute change should rather call the corresponding property setter.
								</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Properties</h2>
						<pre><code data-trim class="javascript">
							class ToggleButton extends HTMLElement {
							  connectedCallback () {
							    this.addEventListener('click', () => {
							      this.pressed = !this.pressed;
							      this.dispatchEvent(new CustomEvent('toggle'));
							    });
							  }
							  set pressed (value) {
							    this.setAttribute('aria-pressed', value);
							  }
							  get pressed () {
							    return this.getAttribute('aria-pressed') === 'true';
							  }
							}
						</code></pre>

						<aside class="notes">
							<ul>
								<li>Using the DOM to maintain the state of your component supports a coherent UI.</li>
								<li>Triggering change events only for user actions (and not in property setters) avoids endless update loops.</li>
								<li>When mimicing native events, be sure to get the details right (see <a href="https://developer.mozilla.org/docs/Web/Events">MDN Event Reference</a>).</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Shadow DOM</h2>
						<pre><code data-trim class="javascript">
							class Tabs extends HTMLElement {
							  constructor() {
							    super();

							    const shadowRoot = this.attachShadow({mode: 'open'});
							    shadowRoot.innerHTML = `
							      &lt;style>#tabs { border-bottom: 1px solid; }&lt;/style>
							      &lt;div id="tabs">
							        &lt;slot name="tabs" />
							      &lt;/div>
							      &lt;div id="panels">
							        &lt;slot />
							      &lt;/div>
							    `;
							  }
							}
						</code></pre>
						<p>
							<a href="https://jsfiddle.net/9kft3dvq/">jsfiddle.net/9kft3dvq/</a>
							(<a href="https://developers.google.com/web/fundamentals/web-components/shadowdom">Google primer</a>)
						</p>
						<ul class="fragment">
							<li>Scoped Styles</li>
							<li>Declarative Composition</li>
						</ul>

						<aside class="notes">
							<ul>
								<li>The Shadow DOM can be used independently from Custom Elements.</li>
								<li>The "Shadow Root" is attached to the "Host Element" and is local to that element.</li>
								<li><code>'closed'</code> is used by built-in elements and is generally discouraged.</li>
							</ul>
						</aside>

						<!--
						Polyfill + Problems => We don't use it
							SSR
							Applying styles nicely
							Caniuse
							Link polyfill
						SMACSS-->
					</section>

					<section>
						<h2>Shadow DOM "Challenges"</h2>
						<ul>
							<li class="fragment"><a href="https://caniuse.com/#feat=shadowdomv1">Browser Support</a></li>
							<li class="fragment"><a href="https://github.com/webcomponents/shadydom">Polyfills</a> are "shady" and horribly slow.</li>
							<li class="fragment">Scoped styles require native CSS custom<br>properties to be really useful.</li>
							<li class="fragment">No server-side rendering (although <a href="https://www.petergoes.nl/blog/my-stab-at-rendering-shadow-dom-server-side/">people try</a>)</li>
						</ul>
						<p class="fragment">&rArr; <del>Shadow DOM</del></p>
					</section>

					<section>
						<h2>Templates</h2>
						Code Example
						Is inert, but that part cannot be polyfilled
						Caniuse
						Link polyfill
						We don't use it, because we create our DOM programmatically using Hyperscript.
						Hyperscript is used behind the scenes of JSX, but we don't use a virtual DOM.
						That's not an obstacle for unidirectional dataflow, though.
						Outlook: HTML imports
					</section>

					<section>
						<h2>And did I mention&hellip;</h2>
						<ul class="nobullets-list">
							<li class="fragment">üîã Batteries included</li>
							<li class="fragment">üéì Flat learning curve</li>
							<li class="fragment">üõ†Ô∏è Great devtools</li>
							<li class="fragment">‚òÆÔ∏è You can use &lt;x> with Web Components</li>
						</ul>

						<aside class="notes">
							<ul>
								<li>In modern browsers, you can use custom elements out-of-the-box.</li>
								<li>Custom elements are yet another API, not a whole new concept like JSX or Virtual DOM.</li>
								<li>The browsers' devtools are <em>made</em> for DOM elements.</li>
								<li>
									Some frameworks support Web Components as compile target.
									And there are Web Component frameworks which use JSX and Virtual DOM and stuff.
								</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Fazit</h2>
						<p>Hintergrundbild: Fahrender Zug</p>
						<ul>
							<li>Wir haben jetzt drei Jahre Erfahrung mit Web Components</li>
							<li>Wir haben gerade die letzte RichFaces-Komponente ausgebaut</li>
							<li>Es ist mehr manuelles Plumbing, aber wir profitieren von Komponenten.</li>
							<li>Wir fahren weiter in diese Richtung</li>
						</ul>
					</section>
				</section>

				<!-- VUE PART -->
				<section class="section-twocolumn">
					<img src="img/vue/vuejs-logo.png" alt="Vue.js Logo">

					<aside class="notes">
						<ul>
							<li>wir haben jetzt viel √ºber Disy erfahren, und wie sie erfolgreich auf Webstandards bauen</li>
							<li>gibt es irgendwelche dringenden Fragen? Sonst gibt es am Ende des Vortrags nochmal die M√∂glichkeit, diese zu stellen</li>
							<li>jetzt m√∂chte ich euch aber gerne in die Welt der Frameworks mitnehmen - wer braucht schon Webstandards :)</li>
						</ul>
					</aside>
				</section>

				<!-- Motivation -->
				<section>
					<section
						data-background="img/vue/eb-bg.png"
						data-background-size="cover"
						class="section-twocolumn"
					>
						<div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
							<ul>
								<li>~100 Servers &lt;&gt; 4 Developers</li>
								<li>every project has one responsible person</li>
								<li>goal is uniform technology landscape</li>
							</ul>
						</div>

						<aside class="notes">
							<ul>
								<li>das hei√üt nicht ein Hauptverantwortlicher sondern wirklich jemand, der sich alleinig um das Projekt k√ºmmert</li>
								<li>Reduziert Kommunikationsaufwand, l√§sst mehr Freiheiten + weniger Diskussionen auf Codeebene</li>
								<li>deswegen ist es auch wichtig, eine m√∂glichst homogene Technologielandschaft zu haben</li>
							</ul>
						</aside>
					</section>

					<section
						data-background="img/vue/dc-motivation.jpg"
						data-background-size="cover"
						class="section-twocolumn"
					>
						<aside class="notes">
							<ul>
								<li>ich wurde letztes Jahr mit der Aufgabe betreut, das neueste Produkt der Echobot-Familie from scratch zu entwickeln</li>
								<li>das Problem was wir damit l√∂sen wollten war, dass viele Kunden z. B. in Ihren CRM-Systemen veraltete Firmendaten haben, da Firmen umziehen/sich aufl√∂sen etc.</li>
								<li>das Produkt sollte den Kunden erm√∂glichen, Firmendaten zu importieren, diese zu bereinigen und gegebenenfalls noch um weitere Merkmale wie z. B. Firmengr√∂√üe oder Ansprechpartner anzureichern</li>
								<li>jetzt war es an mir, ein technisches Konzept zu erstellen</li>
							</ul>
						</aside>
					</section>

					<section
						data-background="img/vue/dc-motivation.jpg"
						data-background-size="cover"
						class="section-twocolumn"
					>
						<div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
							<ul>
								<li>Name: DATACARE</li>
								<li>Cleaning and enrichment of company data</li>
								<li>Done till DMEXCO</li>
								<li>use existing technologies when possible</li>
							</ul>
						</div>
					</section>

					<section data-background="img/vue/cat-unsplash.jpg">
						<h2>
							<span class="text-with-bg">There was only one problem&hellip;</span>
						</h2>
					</section>

					<section>
						<img src="img/vue/angularjs.png">
					</section>

					<section
						data-background="img/vue/cat-show.jpg"
						data-background-size="cover"
						class="section-twocolumn"
					>
						<div class="fragment" style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
							<h3>Analysizing JS frameworks</h3>

							<ul>
								<li>Angular is too heavy weighted</li>
								<li>I knew Vue from an internal project</li>
								<li>WTF is a Web Component?!</li>
							</ul>
						</div>
					</section>

					<section data-background="img/vue/beach.jpg">
						<img src="img/vue/vue-patreon.png" alt="Vue Logo" style="border: none; box-shadow: none; background: none;">
					</section>

					<aside class="notes">
						<ul>
							<li>Vue.js</li>
							<li>TypeScript</li>
							<li>Element UI</li>
						</ul>
					</aside>
				</section>

                <section>
                    <section
                        class="section-twocolumn"
                    >
                        <div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
                            <h3>What is Vue.js?</h3>

                            <ul class="section">
                                <li>Evan You</li>
                                <li>worked at Google (with AngularJS)</li>
                                <li>started as side project</li>
                                <li>financed via Patreon</li>
                            </ul>

                            <blockquote>"I figured, what if I could just extract the part that I really liked about Angular and build something really lightweight."</blockquote>
                        </div>

                        <aside class="notes">
                            <ul>
                                <li>man merkt, dass AngularJS als Vorbild gedient hat (z. B. vue-if; aber: vue-else!)</li>
                            </ul>
                        </aside>
                    </section>

                    <section
                        class="section-twocolumn"
                    >
                        <div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
                            <h3>Main Vue.js concepts</h3>

                            <ul class="section">
                                <li>Components</li>
                                <li>Reactiveness</li>
                                <li>One way data flow</li>
                                <li>Template syntax</li>
                                <li>Single File Components (SFC)</li>
                                <li>jquery.min.js: 84,8 KB | vue.min.js: 85,6 KB</li>
                            </ul>
                        </div>
                    </section>

                    <!-- Vue example #1 -->
                    <section>
                        <img src="img/vue/todo.jpg" alt="Todo example">

<pre class="fragment" style="margin-top: 0;"><code data-trim class="html">
<div id="app">
    <ul>
        <li v-for="todo in todos">
            <label>
                <input
                    type="checkbox" @change="todo.done = !todo.done" :checked="todo.done">

                <del v-if="todo.done">
                    {{ todo.text }}
                </del>
                <span v-else>
                    {{ todo.text }}
                </span>
            </label>
        </li>
    </ul>
</div></code></pre>

                        <p style="font-size: 15px;">
                            <a href="https://jsfiddle.net/mreqpocg/">jsfiddle.net/mreqpocg</a>
                        </p>
                    </section>

                    <!-- Vue example #2 -->
                    <section>
                        <pre style="margin-top: 0;"><code data-trim class="javascript">
    new Vue({
        el: "#app",
        data: {
            todos: [
                { text: "Learn JavaScript", done: true },
                { text: "Learn Vue", done: false },
            ]
        }
    });</code></pre>

    <pre style="margin-top: 0;"><code data-trim class="html">
        <div id="app">
            <ul>
                <li v-for="todo in todos">
                    <label>
                        <input
                            type="checkbox" @change="todo.done = !todo.done" :checked="todo.done">

                        <del v-if="todo.done">
                            {{ todo.text }}
                        </del>
                        <span v-else>
                            {{ todo.text }}
                        </span>
                    </label>
                </li>
            </ul>
        </div></code></pre>
                    </section>

                    <section
                        class="section-twocolumn"
                    >
                        <div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
                            <h3>Template syntax</h3>

                            <ul class="section">
                                <li>{{ variable  }}</li>
                                <li>v-if, v-else-if, v-else</li>
                                <li>:href="value"</li>
                                <li>@click="doSomething()"</li>
                                <li>{{ variable | filter }}</li>
                            </ul>
                        </div>

                        <aside class="notes">
                            <ul>
                                <li>similar to AngularJS</li>
                            </ul>
                        </aside>
                    </section>

                    <section
                        class="section-twocolumn"
                    >
                        <div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
                            <h3>Project setup</h3>

                            <ul class="section">
                                <li>Option #1: include JavaScript dependency</li>
                                <li>Option #2: Vue CLI</li>
                            </ul>
                        </div>
                    </section>

                    <section
                        class="section-twocolumn"
                    >
                        <div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
                            <h3>Vue CLI</h3>

                            <ul>
                                <li>based on Webpack</li>
                                <li>Babel compilation</li>
                                <li>scss compilation</li>
                                <li>enables Vue Single File Components</li>
                                <li>hot reloading</li>
                                <li>source maps</li>
                                <li>deployment (minification, code splitting,...)</li>
                                <li>no config eject</li>
                            </ul>

                            <pre class="fragment">
                                <code data-trim class="html">
                                    npm install -g @vue/cli
                                </code>
                            </pre>
                        </div>

                        <aside class="notes">
                            <ul>
                                <li>als ich einem ehemaligen Kollegen von 1&1 Vue erkl√§rt habe, konnte er nicht glauben dass ich das Projekt mit einem CLI generiere</li>
                                <li>ich wollte ungerne die Kontrolle abgeben</li>
                                <li>es hat sich aber einiges ge√§ndert (z. B. no config eject)</li>
                                <li>es ist nicht zu leugnen, dass sie einen schneller machen</li>
                                <li>wer schon mal TypeScript from scratch aufgesetzt hat inkl. Watches usw. wei√ü das zu sch√§tzen</li>
                            </ul>
                        </aside>
                    </section>

                    <section
                        class="section-twocolumn"
                    >
                        <div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
                            <h3>Single File Components</h3>

                            <ul class="section">
                                <li>need some time getting used to but make total sense</li>
                                <li>all the parts that belong together in one file!</li>
                                <li>if your SFC gets too big: create a subcomponent!</li>
                                <li>SFCs are opt-in</li>
                                <li>JSX is also possible</li>
                            </ul>
                        </div>
                    </section>

                    <!-- SFC example #1 -->
                    <section>
                        <h3>HelloWorld.vue</h3>
<pre style="margin-top: 0;"><code data-trim class="vue">
<template>
    <p>{{ greeting }} World!</p>
</template>

<script>
    export default {
        data: function () {
            return {
                greeting: 'Hello'
            }
        }
    }
</script>

<style>
    p {
        font-size: 2em;
        text-align: center;
    }
</style></code></pre>

                        <p style="font-size: 15px;">
                            <a href="https://codesandbox.io/s/vue-template-eikjx?fontsize=14">codesandbox.io/s/vue-template-eikjx</a>
                        </p>
                         <aside class="notes">
                            <ul>
                                <li>so sieht eine Vue-Komponente aus</li>
                                <li>zu beachten: data ist jetzt eine function</li>
                            </ul>
                        </aside>
                    </section>

                    <!-- SFC example #2 -->
                    <section>
                        <h3>main.js</h3>
    <pre style="margin-top: 0;"><code data-trim class="javascript">
import Vue from "vue";
import HelloWorld from "./HelloWorld.vue";

Vue.component("hello-world", HelloWorld);

new Vue({
    el: "#app",
    template: "<hello-world></hello-world>"
});
</code></pre>

                        <p style="font-size: 15px;">
                            <a href="https://codesandbox.io/s/vue-template-eikjx?fontsize=14">codesandbox.io/s/vue-template-eikjx</a>
                        </p>

                        <aside class="notes">
                            <ul>
                                <li></li>
                            </ul>
                        </aside>
                    </section>

                    <section
                        class="section-twocolumn"
                    >
                        <div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
                            <h3>TypeScript</h3>

                            <h4>Pro</h4>

                            <ul>
                                <li>love it</li>
                                <li>excellent syntax</li>
                                <li>continuous development</li>
                                <li>easy refactorings</li>
                                <li>perfect for own code</li>
                            </ul>

                            <h4>Contra</h4>

                            <ul>
                                <li>hate it</li>
                                <li>not so perfect for library code</li>
                                <li>no runtime checks</li>
                                <li>adds compile complexity</li>
                                <li>harder for beginners to see difference to JS</li>
                            </ul>
                        </div>

                        <aside class="notes">
                            <ul>
                                <li>Empfehlung: externe Validierung deaktivieren</li>
                            </ul>
                        </aside>
                    </section>
                </section>

				<!--
				<section>
					<section>
						<h2>Would I use Vue?</h2>
						<ul>
							<li>Klar, in Projekten, bei denen man weniger konservativ sein muss.</li>
							<li>Vue sieht auch recht leichtgewichtig aus (und hat schon fast Library-Charakter).</li>
							<li>Das Tooling und die konsistente Doku sind beeindruckend.</li>
						</ul>
					</section>

					<section>
						<h2>Would I use Web Components?</h2>
						<ul>
							<li>Ich glaube sie haben gro√ües Potential, zu einem standardisierten Format zu werden.</li>
							<li>Die Frameworks arbeiten hier leider eher entgegen, da jeder sein eigenes S√ºppchen kocht.</li>
						</ul>
					</section>
				</section>
				-->

			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				history: true,
				transitionSpeed: 'fast',
				dependencies: [
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

			Reveal.addEventListener('fragmentshown', function (event) {
				var fragment = event.fragment;
				if (fragment.id === 'solid-foundation') {
					fragment.previousElementSibling.style.textDecoration = 'line-through';
					var bgContent = document.querySelector('.slide-background .present .slide-background-content');
					bgContent.style.backgroundImage = 'url("img/building-blocks.jpg")';
					bgContent.style.backgroundSize = 'cover';
				}
			});
			Reveal.addEventListener('fragmenthidden', function (event) {
				var fragment = event.fragment;
				if (fragment.id === 'solid-foundation') {
					fragment.previousElementSibling.style.textDecoration = 'none';
					var bgContent = document.querySelector('.slide-background .present .slide-background-content');
					bgContent.style.backgroundImage = 'url("img/holy-grail.jpg")';
					bgContent.style.backgroundSize = 'contain';
				}
			});
		</script>
	</body>
</html>
