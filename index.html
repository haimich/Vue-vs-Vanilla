<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Vue vs Vanilla - Components for the Web</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement('link');
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.head.append(link);
		</script>

		<base target="_blank">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

				<section>
					<h1>
						Vue vs Vanilla<br>
						<small>Components for the Web</small>
					</h1>
					<p>
						<small>
							Michael MÃ¼ller, Johannes Kissel<br><!-- TODO Links -->
							<a href="https://2019.accento.dev/">Accento 2019</a>
						</small>
					</p>
				</section>

				<section>
					<section>
						<h2>Michael MÃ¼ller</h2>
					</section>

					<section data-background="img/jo-bicycle.jpg" data-background-size="cover" class="section-twocolumn">
						<div>
							<img src="img/jo.jpg" alt="Johannes Kissel" />
						</div>

						<!-- TODO color contrast -->
						<div style="background-color: rgba(0, 43, 54, 0.65); padding: 20px 0">
							<h2>Johannes Kissel</h2>
							<p>
								Software Developer<br>at
								<img src="img/disy-logo.svg" alt="Disy Logo" class="inline"><br>
								in Karlsruhe
							</p>
							<p>Enthusiastic about ...</p>
							<ul class="nobullets-list">
								<li>ðŸ”— The Open Web</li>
								<li>ðŸš² Cycling</li>
								<li>ðŸŽ¶ Singing</li>
							</ul>
						</div>
					</section>
				</section>

				<!-- Motivation Web Components -->

				<section>
					<section>
						<h2>Cadenza is big ...</h2>
						<img src="img/cadenza.png" alt="Cadenza symbol image with different screens" class="noborder">
						<p class="fragment">... and it's legacy, but ...</p>

						<aside class="notes">
							<ul>
								<li>Desktop, Web, Mobile</li>
								<li>Gather and analyze geo data, do reporting</li>
								<li>Together ~ 2.000.000 lines of code</li>
							</ul>
						</aside>
					</section>

					<section>
						<p>... not <em>that</em> kind of legacy ...</p>
						<figure>
							<img src="img/legacy-dung-heap.jpg" alt="Dung Heap">
							<figcaption>
								<small>Dung heap, Â© Superbass / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a> (via Wikimedia Commons)</small>
							</figcaption>
						</figure>

						<aside class="notes">
							<ul>
								<li>It doesn't steam up while it rots.</li>
							</ul>
						</aside>
					</section>

					<section>
						<p>... or that kind:</p>
						<figure>
							<img src="img/legacy-jenga.jpg" alt="Jenga Tower">
							<figcaption>
								<small>Jenga tower, Â© Marco Verch / <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY-2.0</a> (via Flickr)</small>
							</figcaption>
						</figure>

						<aside class="notes">
							<ul>
								<li>We're <em>not</em> afraid it will fall.</li>
							</ul>
						</aside>
					</section>

					<!-- TODO color contrast -->
					<section data-background="img/legacy-main-station.jpg">
						<p class="text-with-bg" style="margin-bottom: 45vh; font-size: 1.5em">It's vivid and<br>constantly improved and extended</p>
						<br><br><br><br><br><br><br><br><br>
						<p class="text-with-bg" style="font-size: 0.6em"> <!-- <small> does not work properly -->
							Frankfurt main station, Â© Urmelbeauftragter / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a> (via Wikimedia Commons)
						</p>

						<aside class="notes">
							<ul>
								<li>Web is ~10 years old and getting more important, recently.</li>
								<li>A lot of people use it (TODO order of magnitude?).</li>
								<li>We add new features all the time.</li>
								<li>We constantly improve the code base (e.g. always using the newest LTS Java version).</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2 class="fragment">How to be future proof?</h2>
						<ul class="nobullets-list" style="text-align: center">
							<li>
								<a href="https://richfaces.jboss.org/">
									<img src="img/richfaces-logo.png" alt="RichFaces Logo" class="noborder" style="height: 2em">
								</a>
							</li>
							<li class="fragment">
								<a href="https://angularjs.org/">
									<img src="img/angularjs-logo.png" alt="AngularJS (aka &quot;Angular 1&quot;) Logo" class="noborder" style="height: 2em">
								</a>
							</li>
							<li class="fragment">
								<a href="https://backbonejs.org/">
									<img src="img/backbone-logo.png" alt="Backbone Logo" class="noborder" style="height: 2em; background-color: white">
								</a>
							</li>
							<li class="fragment">
								<a href="https://openlayers.org/two/">
									<img src="img/openlayers2-logo.png" alt="Qooxdoo Logo" class="noborder" style="height: 2em">
								</a>
							</li>
							<li class="fragment">
								<a href="http://www.qooxdoo.org/">
									<img src="img/qooxdoo-logo.png" alt="OpenLayers 2 Logo" class="noborder" style="height: 2em">
								</a>
								<br>
								&hellip;
							</li>

							<img src="img/forbidden.svg" alt="" class="fragment noborder" style="height: 50vh; left: 50%; position: absolute; top: 50%; transform: translate(-50%, -50%);">
						</ul>

						<aside class="notes">
							<ul>
								<li>
									The RichFaces end-of-life in 2016 together with an exploding number of feature requests
									made us think about Cadenza Web's technical foundation.
								</li>
								<li>The problem: Frameworks tend to die or break their APIs.</li>
								<li>We don't use frameworks for Web components either (like Google's <a href="https://www.polymer-project.org/">Polymer Project</a>).</li>
							</ul>
						</aside>
					</section>

					<!-- https://commons.wikimedia.org/wiki/File:RU800S_atepitovonat_1.jpg -->
					<section data-background="img/refactor-on-the-go.jpg" data-background-size="contain" data-no-center style="text-align: left; padding-top: 15%">
						<p class="text-with-bg">Refactoring on the go demands<br>maximum interoperability</p>

						<aside class="notes">
							<ul>
								<li>Re-writing the app is not an option.</li>
								<li>We need maximum interoperability with existing code and future libs.</li>
							</ul>
						</aside>
					</section>

					<section>
						<pre><code data-trim class="javascript">
							const ELEMENT_NAME = 'd-toggle-button';

							class ToggleButton extends HTMLElement {
							  connectedCallback () {
							    this.classList.add(ELEMENT_NAME);
							    this.setAttribute('role', 'button');
							    this.addEventListener('click', () => {
							      this.pressed = !this.pressed;
							      this.dispatchEvent(new CustomEvent('toggle'));
							    });
							  }
							  set pressed (value) {
							    this.setAttribute('aria-pressed', value);
							  }
							  get pressed () {
							    return this.getAttribute('aria-pressed') === 'true';
							  }
							}

							customElements.define(ELEMENT_NAME, ToggleButton);
						</code></pre>
						<p>
							<a href="https://jsfiddle.net/nx7rvj5p/">jsfiddle.net/nx7rvj5p</a>
						</p>

						<aside class="notes">
							<ul>
								<li>A simple toggle button component as example: The following slides show it's usage with various technologies.</li>
								<li>The example already shows some of our best practices, which will be discussed later.</li>
								<li>Web components are low-level, so you should know the DOM.</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>Plain DOM</h2>
						<pre><code data-trim class="javascript">
							const button = document.createElement('d-toggle-button');
							button.textContent = 'Button';
							button.pressed = true;
							button.addEventListener('toggle', () => {
							  console.log(button.pressed);
							});
							document.body.append(button);
						</code></pre>
					</section>

					<section>
						<h2>Constructor</h2>
						<pre><code data-trim class="javascript">
							import ToggleButton from 'ui/toggle-button';
							// or
							const ToggleButton = customElements.get('d-toggle-button');

							// constructor
							const button = new ToggleButton();
							...
						</code></pre>

						<aside class="notes">
							<ul>
								<li>Using the constructor in this case is equivalent to <tt>document.createElement()</tt>.</li>
								<li>It only accepts arguments.</li>
								<li>Ideally, your components should work <em>with</em> and <em>without</em> constructor arguments.</li>
							</ul>
						</aside>
					</section>

					<section>
						<h2>jQuery</h2>
						<pre><code data-trim class="javascript">
							$('&lt;d-toggle-button&gt;')
							  .text('Button')
							  .prop('pressed', true)
							  .on('toggle', event => console.log(event.target.pressed))
							  .appendTo(document.body);
						</code></pre>
					</section>

					<section>
						<h2>Vue</h2>
						<pre><code data-trim class="javascript">
							new Vue({
							  el: '#app',
							  template: `&lt;d-toggle-button
							               :aria-pressed="String(pressed)"
							               @toggle="onToggle"&gt;Button&lt;/d-toggle-button&gt;`,
							  data: { pressed: true },
							  methods: {
							    onToggle (event) {
							      console.log(event.target.pressed);
							    }
							  }
							});
						</code></pre>
					</section>

					<!-- https://commons.wikimedia.org/wiki/File:Holy-grail-round-table-bnf-ms_fr-116F-f610v-15th-detail.jpg -->
					<section data-background="img/holy-grail.jpg" data-background-size="contain" data-no-center>
						<h2><span class="text-with-bg">Web Components</span></h2>
						<br><br><br><br><br>
						<h3 class="fragment">
							<span class="text-with-bg">The Holy Grail</span>
						</h3>
						<!-- TODO line-height -->
						<div class="fragment" id="solid-foundation">
							<h3>
								<span class="text-with-bg">A solid foundation<br><small>with the right level of abstraction</small></span>
							</h3>
							<p>
								<small class="text-with-bg">Railroad ties, Â© StÃ¶rfix / <a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA-3.0</a> (via Wikimedia Commons)</small>
							</p>
						</div>

						<aside class="notes">
							<ul>
								<li>We bet - yes, it's a bet - that Web Components are more future proof than frameworks.</li>
								<li>At least they move more slowly ;-)</li><!-- TODO emoji -->
								<li>Because they're relatively low-level, they integrate well with other technologies.</li>
							</ul>
						</aside>
					</section>
				</section>

				<section>
					<section>
						<blockquote>
							<p>A software component is a<br><strong>unit of composition</strong> with contractually specified <strong>interfaces</strong> and explicit context <strong>dependencies</strong> only.</p>
							<footer>
								<small>Szyperski, Gruntz, Murer; <cite><a href="https://books.google.de/books?id=U896iwmtiagC">Component Software</a></cite></small>
							</footer>
						</blockquote>

						<aside class="notes">
							<p>Components are building blocks - for your app and for other components of your app.</p>
						</aside>
					</section>

					<section>
						<h2>The effect is <strong style="font-size: 1.5em; font-weight: normal; vertical-align: middle">HUGE!</strong></h2>
						<img src="img/build-tools.png" alt="Arrow pointing from the Grunt logo to the Webpack logo, indicating the transition from one tool to the other.">

						<aside class="notes">
							<ul>
								<li>We came from a world with strictly separated technologies: HTML, CSS, JS</li>
								<li>This applied to the structure of our code base, our tooling, and our thinking, habits, and practices.</li>
								<li>Now we we think and build self-contained components and Webpack (or your preferred bundler) resolves their dependencies for you.</li>
							</ul>
						</aside>
					</section>

					<!-- https://www.pexels.com/photo/button-buttons-color-colour-670673/ -->
					<section data-background="img/buttons.jpg">
						<h2>
							<span class="text-with-bg">Button</span>
						</h2>
						<p class="fragment">
							<span class="text-with-bg">UI components have a name are reusable</span>

							<aside class="notes">
								<ul>
									<li>In frontend development, we usually talk about UI components.</li>
									<li>Component reuse supports a consistent UI, hence a better UX.</li>
									<li>People love them, because they make it easier to discuss certain parts of the UI.</li>
								</ul>
							</aside>
						</p>
					</section>

					<section class="section-twocolumn">
						<figure>
							<img src="img/screenshot-zeplin.png" alt="Screenshot of the Disy style guide">
							<figcaption>
								Style guide<br>
								<a href="https://zeplin.io/"><small>(Zeplin)</small></a>
							</figcaption>

						</figure>
						<figure>
							<img src="img/screenshot-catalog.png" alt="Screenshot of the Disy component library">
							<figcaption>
								Component library<br>
								<a href="https://www.catalog.style/"><small>(Catalog)</small></a>
							</figcaption>
						</figure>

						<aside class="notes">
							<ul>
								<li>Design tools co-evolve with the component trend in frontend development.</li>
								<li>In recent years we talk more about style guides and component libraries.</li>
								<li>Designers use design tools like Adobe XD instead of canvas editors like Photoshop - and they work with components instead of pixels.</li><!-- TODO spelling -->
							</ul>
						</aside>
					</section>
				</section>

			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				history: true,
				transitionSpeed: 'fast',
				dependencies: [
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

			Reveal.addEventListener('fragmentshown', function (event) {
				var fragment = event.fragment;
				if (fragment.id === 'solid-foundation') {
					fragment.previousElementSibling.style.textDecoration = 'line-through';
					var bgContent = document.querySelector('.slide-background .present .slide-background-content');
					bgContent.style.backgroundImage = 'url("img/building-blocks.jpg")';
					bgContent.style.backgroundSize = 'cover';
				}
			});
			Reveal.addEventListener('fragmenthidden', function (event) {
				var fragment = event.fragment;
				if (fragment.id === 'solid-foundation') {
					fragment.previousElementSibling.style.textDecoration = 'none';
					var bgContent = document.querySelector('.slide-background .present .slide-background-content');
					bgContent.style.backgroundImage = 'url("img/holy-grail.jpg")';
					bgContent.style.backgroundSize = 'contain';
				}
			});
		</script>
	</body>
</html>
